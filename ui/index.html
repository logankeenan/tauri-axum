<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Document</title>
</head>
<body>
<h1>Welcome from Tauri!</h1>
<script type="module">
    // When using the Tauri API npm package:
    // import { invoke } from '@tauri-apps/api/tauri'
    // When using the Tauri global script (if not using the npm package)
    // Be sure to set `build.withGlobalTauri` in `tauri.conf.json` to true
    const invoke = window.__TAURI__.invoke

    async function start() {
        const request = {path: window.location.href, method: "GET"};
        document.documentElement.innerHTML = await invoke('make_http_request', {request});

        document.querySelector('a').addEventListener("click", async (event) => {
            event.preventDefault();
            const request = {path: event.target.href, method: "GET"};
            document.documentElement.innerHTML = await invoke('make_http_request', {request});
        });
    }
    start()
</script>
</body>
</html>